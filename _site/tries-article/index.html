<!DOCTYPE html>
<html>
  <head>
    <title>Tries: Pointer free Implementation – The Programming Club</title>

        <meta charset="utf-8" />
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'>

    
    <meta name="description" content="In this tutorial, we shall learn how to implement a trie without the use of pointers. The basics and working of a trie should be known beforehand. If not, please read the prerequisuite.

" />
    <meta property="og:description" content="In this tutorial, we shall learn how to implement a trie without the use of pointers. The basics and working of a trie should be known beforehand. If not, please read the prerequisuite.

" />
    
    <meta name="author" content="The Programming Club" />

    
    <meta property="og:title" content="Tries: Pointer free Implementation" />
    <meta property="twitter:title" content="Tries: Pointer free Implementation" />
    
    <meta name="theme-color" content="#2C3E50">
    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
    <link rel="shortcut icon big" sizes="192x192" href="big_icon.png ">
    <link rel="stylesheet" type="text/css" href="/blog/style.css" />
    <link rel="stylesheet" type="text/css" href="/blog/font-awesome/css/font-awesome.min.css" />
    <link rel="alternate" type="application/rss+xml" title="The Programming Club - Indian Institute of Technology, Indore" href="/blog/feed.xml" />
    <meta name="mobile-web-app-capable" content="yes">
   
 <!-- Begin Jekyll SEO tag v2.3.0 -->
<title>Tries: Pointer free Implementation | The Programming Club</title>
<meta property="og:title" content="Tries: Pointer free Implementation" />
<meta name="author" content="Gvs Akhil" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="A tutorial to implement tries without the use of pointers" />
<meta property="og:description" content="A tutorial to implement tries without the use of pointers" />
<link rel="canonical" href="http://0.0.0.0:4000/blog/tries-article/" />
<meta property="og:url" content="http://0.0.0.0:4000/blog/tries-article/" />
<meta property="og:site_name" content="The Programming Club" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-08-23T00:00:00+05:30" />
<script type="application/ld+json">
{"name":null,"description":"A tutorial to implement tries without the use of pointers","author":{"@type":"Person","name":"Gvs Akhil"},"@type":"BlogPosting","url":"http://0.0.0.0:4000/blog/tries-article/","publisher":null,"image":null,"headline":"Tries: Pointer free Implementation","dateModified":"2017-08-23T00:00:00+05:30","datePublished":"2017-08-23T00:00:00+05:30","sameAs":null,"mainEntityOfPage":{"@type":"WebPage","@id":"http://0.0.0.0:4000/blog/tries-article/"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>

  <body>
    <div class="wrapper-masthead">
      <div class="container">
        <header class="masthead clearfix">
          <a href="/" class="site-avatar"><img src="https://avatars3.githubusercontent.com/u/31797871"/></a>

          <div class="site-info">
            <h1 class="site-name"><a href="/">The Programming Club</a></h1>
            <p class="site-description">Indian Institute of Technology, Indore</p>
          </div>

          <nav>
            <a href="/blog/">Blog</a>
            <a href="/projects.html">Projects</a>
            <a href="/about.html">About</a>
          </nav>
        </header>
      </div>
    </div>

    <div id="main" role="main" class="container">
      <article class="post">
  <h1>Tries: Pointer free Implementation</h1>
  <h4>Gvs Akhil</h4>
  <div class="date">
    August 23, 2017
  </div>
  
  <div class="entry">
    <p>In this tutorial, we shall learn how to implement a trie without the use of pointers. The basics and working of a trie should be known beforehand. If not, please read the <a href="https://threads-iiith.quora.com/Tutorial-on-Trie-and-example-problems">prerequisuite</a>.</p>

<p>We shall deal with a trie containing integers in its binary form.<br />
The implementation is given below. I shall explain each part further.</p>
<div class="language-cpp highlighter-rouge"><pre class="highlight"><code><span class="k">const</span> <span class="kt">int</span> <span class="n">N</span><span class="o">=</span><span class="mi">1000006</span><span class="p">,</span><span class="n">max_edges</span><span class="o">=</span><span class="mi">2</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">NEW</span><span class="p">;</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">node</span><span class="p">{</span>
	<span class="kt">int</span> <span class="n">edges</span><span class="p">[</span><span class="n">max_edges</span><span class="p">];</span>
<span class="p">}</span><span class="n">Trie</span><span class="p">;</span>
<span class="n">Trie</span> <span class="n">trie</span><span class="p">[</span><span class="n">N</span><span class="p">];</span>
<span class="kt">void</span> <span class="n">initialize</span><span class="p">(</span><span class="kt">int</span> <span class="n">ind</span><span class="p">){</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">max_edges</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">trie</span><span class="p">[</span><span class="n">ind</span><span class="p">].</span><span class="n">edges</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=-</span><span class="mi">1</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="n">pretrie</span><span class="p">(){</span>
	<span class="n">initialize</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span> <span class="n">NEW</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>
<h1 id="structure-of-trie">Structure of Trie</h1>
<div class="language-cpp highlighter-rouge"><pre class="highlight"><code><span class="k">const</span> <span class="kt">int</span> <span class="n">N</span><span class="o">=</span><span class="mi">1000006</span><span class="p">,</span><span class="n">max_edges</span><span class="o">=</span><span class="mi">2</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">NEW</span><span class="p">;</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">node</span><span class="p">{</span>
	<span class="kt">int</span> <span class="n">edges</span><span class="p">[</span><span class="n">max_edges</span><span class="p">];</span>
<span class="p">}</span><span class="n">Trie</span><span class="p">;</span>
<span class="n">Trie</span> <span class="n">trie</span><span class="p">[</span><span class="n">N</span><span class="p">];</span>
</code></pre>
</div>
<p>In this implementation, each node of the trie is represented by an array which contains the indexes of the other nodes it is connected to by its edges.<br />
eg. <code class="highlighter-rouge">trie[curr].edges[0]</code> holds the index of node which is connected to the current node <code class="highlighter-rouge">curr</code> by the edge which represents <code class="highlighter-rouge">0</code>.</p>

<p>To create a Trie having <code class="highlighter-rouge">N</code> nodes, we write <code class="highlighter-rouge">Trie trie[N]</code> where <code class="highlighter-rouge">trie[i]</code> represents the i’th node in the trie.</p>

<p>We also need to maintain a variable which holds the next free index which has not been used yet. Let us name this variable as <code class="highlighter-rouge">NEW</code>.   <br />
***</p>
<h1 id="initializing-a-node">Initializing a Node</h1>
<div class="language-cpp highlighter-rouge"><pre class="highlight"><code><span class="kt">void</span> <span class="n">initialize</span><span class="p">(</span><span class="kt">int</span> <span class="n">ind</span><span class="p">){</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">max_edges</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">trie</span><span class="p">[</span><span class="n">ind</span><span class="p">].</span><span class="n">edges</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=-</span><span class="mi">1</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="n">pretrie</span><span class="p">(){</span>
	<span class="n">initialize</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span> <span class="n">NEW</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>
<p>Now, Whenever we create a new node, The edges must not be pointing to any other nodes. Hence we initialize the array with <code class="highlighter-rouge">-1</code> to indicate the edges do not exist initially.<br />
Therefore, for every new node, we call <code class="highlighter-rouge">initialize(node_index)</code> first.</p>

<p>The <code class="highlighter-rouge">pretrie()</code> function is only called once at the start of the program to create the root of the tree which is assigned an index of <code class="highlighter-rouge">0</code>.</p>
<h1 id="inserting-an-integer">Inserting an Integer</h1>
<div class="language-cpp highlighter-rouge"><pre class="highlight"><code><span class="k">const</span> <span class="kt">int</span> <span class="n">lastbit</span><span class="o">=</span><span class="mi">31</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">ch</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span><span class="kt">int</span> <span class="n">i</span><span class="p">){</span>
	<span class="k">if</span><span class="p">(</span><span class="n">x</span><span class="o">&amp;</span><span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">i</span><span class="p">))</span> <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
	<span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="n">insert</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">){</span>
	<span class="kt">int</span> <span class="n">ind</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">curr</span><span class="p">;</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="n">lastbit</span><span class="p">;</span><span class="n">i</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">--</span><span class="p">){</span>
		<span class="n">curr</span><span class="o">=</span><span class="n">ch</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">i</span><span class="p">);</span>
		<span class="k">if</span><span class="p">(</span><span class="n">trie</span><span class="p">[</span><span class="n">ind</span><span class="p">].</span><span class="n">edges</span><span class="p">[</span><span class="n">curr</span><span class="p">]</span><span class="o">==-</span><span class="mi">1</span><span class="p">){</span>
			<span class="n">initialize</span><span class="p">(</span><span class="n">NEW</span><span class="p">);</span>
			<span class="n">trie</span><span class="p">[</span><span class="n">ind</span><span class="p">].</span><span class="n">edges</span><span class="p">[</span><span class="n">curr</span><span class="p">]</span><span class="o">=</span><span class="n">NEW</span><span class="o">++</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="n">ind</span><span class="o">=</span><span class="n">trie</span><span class="p">[</span><span class="n">ind</span><span class="p">].</span><span class="n">edges</span><span class="p">[</span><span class="n">curr</span><span class="p">];</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>
<p><code class="highlighter-rouge">ch(x,i)</code> returns the value of the i’th bit in integer <code class="highlighter-rouge">x</code>. It returns <code class="highlighter-rouge">1</code> if the bit is set and <code class="highlighter-rouge">0</code> if it is not. The variable <code class="highlighter-rouge">curr</code> holds this value.</p>

<p>The condition <code class="highlighter-rouge">if(trie[ind].edges[curr]==-1)</code> checks whether the current node <code class="highlighter-rouge">ind</code> does not have an edge corresponding to the value of <code class="highlighter-rouge">curr</code>.<br />
If the edge does not exist, a node with index with the value <code class="highlighter-rouge">NEW</code> is created and is initialized by calling <code class="highlighter-rouge">initialize(NEW);</code> . Then the line, <code class="highlighter-rouge">trie[ind].edges[curr]=NEW++;</code> links the newly created node to the current index <code class="highlighter-rouge">ind</code>.
Also the value of <code class="highlighter-rouge">NEW</code> is incremented by one since its current value is already taken.</p>

<p>To move along the edge to the next node, we update the index as <code class="highlighter-rouge">ind=trie[ind].edges[curr];</code>
***</p>
<h1 id="finding-max-xor-value">Finding Max Xor Value</h1>
<div class="language-cpp highlighter-rouge"><pre class="highlight"><code><span class="kt">int</span> <span class="n">fmax</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">){</span>
	<span class="kt">int</span> <span class="n">ind</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">curr</span><span class="p">,</span><span class="n">req</span><span class="p">;</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="n">lastbit</span><span class="p">;</span><span class="n">i</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">--</span><span class="p">){</span>
		<span class="n">curr</span><span class="o">=</span><span class="n">ch</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">i</span><span class="p">);</span>
		<span class="n">req</span><span class="o">=</span><span class="n">curr</span><span class="o">^</span><span class="mi">1</span><span class="p">;</span>
		<span class="k">if</span><span class="p">(</span><span class="n">trie</span><span class="p">[</span><span class="n">ind</span><span class="p">].</span><span class="n">edges</span><span class="p">[</span><span class="n">req</span><span class="p">]</span><span class="o">!=-</span><span class="mi">1</span><span class="p">){</span>
			<span class="n">x</span><span class="o">|=</span><span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">i</span><span class="p">);</span>
			<span class="n">ind</span><span class="o">=</span><span class="n">trie</span><span class="p">[</span><span class="n">ind</span><span class="p">].</span><span class="n">edges</span><span class="p">[</span><span class="n">req</span><span class="p">];</span>
		<span class="p">}</span>
		<span class="k">else</span><span class="p">{</span>
			<span class="n">x</span><span class="o">&amp;=~</span><span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">i</span><span class="p">);</span>
			<span class="n">ind</span><span class="o">=</span><span class="n">trie</span><span class="p">[</span><span class="n">ind</span><span class="p">].</span><span class="n">edges</span><span class="p">[</span><span class="n">req</span><span class="o">^</span><span class="mi">1</span><span class="p">];</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="n">x</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>
<p>The above function finds the maximum value of <code class="highlighter-rouge">x^y</code> where <code class="highlighter-rouge">x</code> is any integer passed to the function and <code class="highlighter-rouge">y</code> is some integer already present in the trie.</p>

<p><code class="highlighter-rouge">ch(x,i)</code> returns the value of the i’th bit in integer <code class="highlighter-rouge">x</code>. It returns <code class="highlighter-rouge">1</code> if the bit is set and <code class="highlighter-rouge">0</code> if it is not. The variable <code class="highlighter-rouge">curr</code> holds this value.</p>

<p><code class="highlighter-rouge">req</code> holds the complement of <code class="highlighter-rouge">curr</code>. It means that req=0 when curr=1 and vice-versa.</p>

<p>The condition <code class="highlighter-rouge">if(trie[ind].edges[req]!=-1)</code> checks whether the current node <code class="highlighter-rouge">ind</code> has an edge corresponding to the value of <code class="highlighter-rouge">req</code>.</p>

<p>If the required bit is found, then the i’th bit(from the right) of x is set to <code class="highlighter-rouge">1</code> by the expression <code class="highlighter-rouge">x|=(1&lt;&lt;i)</code> . If the required bit is not found, the i’th bit of x is set to <code class="highlighter-rouge">0</code> by the expression <code class="highlighter-rouge">x&amp;=~(1&lt;&lt;i)</code> .</p>

<p><code class="highlighter-rouge">ind=trie[ind].edges[req]</code> moves <code class="highlighter-rouge">ind</code> to the next node if the required bit is found.<br />
<code class="highlighter-rouge">ind=trie[ind].edges[req^1];</code> moves <code class="highlighter-rouge">ind</code> to the next node if the required bit is not found.</p>

<h1 id="finding-min-xor-value">Finding Min Xor Value</h1>
<div class="language-cpp highlighter-rouge"><pre class="highlight"><code><span class="kt">int</span> <span class="n">fmin</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">){</span>
	<span class="kt">int</span> <span class="n">ind</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">curr</span><span class="p">,</span><span class="n">req</span><span class="p">;</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="n">lastbit</span><span class="p">;</span><span class="n">i</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">--</span><span class="p">){</span>
		<span class="n">curr</span><span class="o">=</span><span class="n">ch</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">i</span><span class="p">);</span>
		<span class="n">req</span><span class="o">=</span><span class="n">curr</span><span class="p">;</span>
		<span class="k">if</span><span class="p">(</span><span class="n">trie</span><span class="p">[</span><span class="n">ind</span><span class="p">].</span><span class="n">edges</span><span class="p">[</span><span class="n">req</span><span class="p">]</span><span class="o">!=-</span><span class="mi">1</span><span class="p">){</span>
			<span class="n">x</span><span class="o">&amp;=~</span><span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">i</span><span class="p">);</span>		
			<span class="n">ind</span><span class="o">=</span><span class="n">trie</span><span class="p">[</span><span class="n">ind</span><span class="p">].</span><span class="n">edges</span><span class="p">[</span><span class="n">req</span><span class="p">];</span>
		<span class="p">}</span>
		<span class="k">else</span><span class="p">{</span>
			<span class="n">x</span><span class="o">|=</span><span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">i</span><span class="p">);</span>
			<span class="n">ind</span><span class="o">=</span><span class="n">trie</span><span class="p">[</span><span class="n">ind</span><span class="p">].</span><span class="n">edges</span><span class="p">[</span><span class="n">req</span><span class="o">^</span><span class="mi">1</span><span class="p">];</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="n">x</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>

<p>The above function finds the minimum value of <code class="highlighter-rouge">x^y</code> where <code class="highlighter-rouge">x</code> is any integer passed to the function and <code class="highlighter-rouge">y</code> is some integer already present in the trie.</p>

<p>This function is very similar to the fmax function in the previous section but the only chages are-</p>
<ul>
  <li><code class="highlighter-rouge">req=curr</code> instead of <code class="highlighter-rouge">req=curr^1</code></li>
  <li><code class="highlighter-rouge">x&amp;=~(1&lt;&lt;i)</code> instead of <code class="highlighter-rouge">x|=(1&lt;&lt;i)</code> when required bit is found.</li>
  <li><code class="highlighter-rouge">x|=(1&lt;&lt;i)</code> instead of <code class="highlighter-rouge">x&amp;=~(1&lt;&lt;i)</code> when required bit is not found.</li>
</ul>

<h1 id="complete-implementation">Complete Implementation</h1>

<div class="language-cpp highlighter-rouge"><pre class="highlight"><code><span class="cp">#include&lt;bits/stdc++.h&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">N</span><span class="o">=</span><span class="mi">1000006</span><span class="p">,</span><span class="n">max_edges</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">lastbit</span><span class="o">=</span><span class="mi">31</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">NEW</span><span class="p">;</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">node</span><span class="p">{</span>
	<span class="kt">int</span> <span class="n">edges</span><span class="p">[</span><span class="n">max_edges</span><span class="p">];</span>
<span class="p">}</span><span class="n">Trie</span><span class="p">;</span>
<span class="n">Trie</span> <span class="n">trie</span><span class="p">[</span><span class="n">N</span><span class="p">];</span>
<span class="kt">void</span> <span class="n">initialize</span><span class="p">(</span><span class="kt">int</span> <span class="n">ind</span><span class="p">){</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">max_edges</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">trie</span><span class="p">[</span><span class="n">ind</span><span class="p">].</span><span class="n">edges</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=-</span><span class="mi">1</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="n">pretrie</span><span class="p">(){</span>
	<span class="n">initialize</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span> <span class="n">NEW</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="n">ch</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">,</span><span class="kt">int</span> <span class="n">i</span><span class="p">){</span>
	<span class="k">if</span><span class="p">(</span><span class="n">x</span><span class="o">&amp;</span><span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">i</span><span class="p">))</span> <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
	<span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="n">insert</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">){</span>
	<span class="kt">int</span> <span class="n">ind</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">curr</span><span class="p">;</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="n">lastbit</span><span class="p">;</span><span class="n">i</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">--</span><span class="p">){</span>
		<span class="n">curr</span><span class="o">=</span><span class="n">ch</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">i</span><span class="p">);</span>
		<span class="n">trace4</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">curr</span><span class="p">,</span><span class="n">ind</span><span class="p">,</span><span class="n">ind</span><span class="p">);</span>
		<span class="k">if</span><span class="p">(</span><span class="n">trie</span><span class="p">[</span><span class="n">ind</span><span class="p">].</span><span class="n">edges</span><span class="p">[</span><span class="n">curr</span><span class="p">]</span><span class="o">==-</span><span class="mi">1</span><span class="p">){</span>
			<span class="n">initialize</span><span class="p">(</span><span class="n">NEW</span><span class="p">);</span>
			<span class="n">trie</span><span class="p">[</span><span class="n">ind</span><span class="p">].</span><span class="n">edges</span><span class="p">[</span><span class="n">curr</span><span class="p">]</span><span class="o">=</span><span class="n">NEW</span><span class="o">++</span><span class="p">;</span>
		<span class="p">}</span>
		<span class="n">ind</span><span class="o">=</span><span class="n">trie</span><span class="p">[</span><span class="n">ind</span><span class="p">].</span><span class="n">edges</span><span class="p">[</span><span class="n">curr</span><span class="p">];</span>
	<span class="p">}</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="n">fmax</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">){</span>
	<span class="kt">int</span> <span class="n">ind</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">curr</span><span class="p">,</span><span class="n">req</span><span class="p">;</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="n">lastbit</span><span class="p">;</span><span class="n">i</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">--</span><span class="p">){</span>
		<span class="n">curr</span><span class="o">=</span><span class="n">ch</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">i</span><span class="p">);</span>
		<span class="n">req</span><span class="o">=</span><span class="n">curr</span><span class="o">^</span><span class="mi">1</span><span class="p">;</span>
		<span class="k">if</span><span class="p">(</span><span class="n">trie</span><span class="p">[</span><span class="n">ind</span><span class="p">].</span><span class="n">edges</span><span class="p">[</span><span class="n">req</span><span class="p">]</span><span class="o">!=-</span><span class="mi">1</span><span class="p">){</span>
			<span class="n">x</span><span class="o">|=</span><span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">i</span><span class="p">);</span>
			<span class="n">ind</span><span class="o">=</span><span class="n">trie</span><span class="p">[</span><span class="n">ind</span><span class="p">].</span><span class="n">edges</span><span class="p">[</span><span class="n">req</span><span class="p">];</span>
		<span class="p">}</span>
		<span class="k">else</span><span class="p">{</span>
			<span class="n">x</span><span class="o">&amp;=~</span><span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">i</span><span class="p">);</span>
			<span class="n">ind</span><span class="o">=</span><span class="n">trie</span><span class="p">[</span><span class="n">ind</span><span class="p">].</span><span class="n">edges</span><span class="p">[</span><span class="n">req</span><span class="o">^</span><span class="mi">1</span><span class="p">];</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="n">x</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="n">fmin</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">){</span>
	<span class="kt">int</span> <span class="n">ind</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">curr</span><span class="p">,</span><span class="n">req</span><span class="p">;</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="n">lastbit</span><span class="p">;</span><span class="n">i</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">--</span><span class="p">){</span>
		<span class="n">curr</span><span class="o">=</span><span class="n">ch</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">i</span><span class="p">);</span>
		<span class="n">req</span><span class="o">=</span><span class="n">curr</span><span class="p">;</span>
		<span class="k">if</span><span class="p">(</span><span class="n">trie</span><span class="p">[</span><span class="n">ind</span><span class="p">].</span><span class="n">edges</span><span class="p">[</span><span class="n">req</span><span class="p">]</span><span class="o">!=-</span><span class="mi">1</span><span class="p">){</span>
			<span class="n">x</span><span class="o">&amp;=~</span><span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">i</span><span class="p">);</span>		
			<span class="n">ind</span><span class="o">=</span><span class="n">trie</span><span class="p">[</span><span class="n">ind</span><span class="p">].</span><span class="n">edges</span><span class="p">[</span><span class="n">req</span><span class="p">];</span>
		<span class="p">}</span>
		<span class="k">else</span><span class="p">{</span>
			<span class="n">x</span><span class="o">|=</span><span class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">i</span><span class="p">);</span>
			<span class="n">ind</span><span class="o">=</span><span class="n">trie</span><span class="p">[</span><span class="n">ind</span><span class="p">].</span><span class="n">edges</span><span class="p">[</span><span class="n">req</span><span class="o">^</span><span class="mi">1</span><span class="p">];</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="n">x</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="n">main</span><span class="p">(){</span>
	<span class="n">pretrie</span><span class="p">();</span>
	<span class="n">insert</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span> 	<span class="n">insert</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span> <span class="n">insert</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span>
	<span class="n">cout</span><span class="o">&lt;&lt;</span><span class="n">fmax</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
	<span class="n">cout</span><span class="o">&lt;&lt;</span><span class="n">fmin</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>

<h1 id="notes">Notes</h1>
<ul>
  <li>When working with 64 bit integers, change <code class="highlighter-rouge">lastbit=31</code> to <code class="highlighter-rouge">lastbit=63</code>. Also replace every occurence of <code class="highlighter-rouge">1</code> with <code class="highlighter-rouge">1LL</code>.</li>
  <li>This trie can be used with strings by:</li>
  <li>Changing <code class="highlighter-rouge">max_edges=2</code> to <code class="highlighter-rouge">max_edges=26</code></li>
  <li>Changing <code class="highlighter-rouge">lastbit=31</code> to <code class="highlighter-rouge">lastbit=str.size()-1</code> in the insert function.</li>
  <li>Changing <code class="highlighter-rouge">curr=ch(x,i)</code> to <code class="highlighter-rouge">curr=str[i]-'a'</code></li>
  <li>Also note that the fmin and fmax functions cannot be using in the case of tries containing strings!</li>
</ul>

  </div>


  
</article>

    </div>

    <div class="wrapper-footer">
      <div class="container">
        <footer class="footer">
          
<a href="mailto:progclub@iiti.ac.in"><i class="fa fa-envelope"></i></a>
<a href="https://www.facebook.com/pclubiiti"><i class="fa fa-facebook"></i></a>

<a href="https://github.com/pclubiiti"><i class="fa fa-github"></i></a>




<a href="https://www.twitter.com/pclubiiti"><i class="fa fa-twitter"></i></a>



        </footer>
      </div>
    </div>

    
	<!-- Google Analytics -->
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-106481637-1', 'auto');
		ga('send', 'pageview', {
		  'page': '/blog/tries-article/',
		  'title': 'Tries: Pointer free Implementation'
		});
	</script>
	<!-- End Google Analytics -->


  </body>
</html>
